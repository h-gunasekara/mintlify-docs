---
title: 'Query Expansion'
description: 'How the Catalog API expands search queries for better results'
---

# Query Expansion

The Catalog API uses advanced query expansion techniques to improve search relevance and ensure users find the products they're looking for, even when they use different terminology.

## What is Query Expansion?

Query expansion is the process of broadening a search query to match a wider range of relevant results. In the context of product search, this means understanding that users might search for the same product using different words or phrases.

<Tip>
  Query expansion ensures that a search for "trousers" will match products labeled as "pants," and a search for "sneakers" will match "athletic shoes" or "trainers."
</Tip>

## How the Catalog API Implements Query Expansion

The API uses multiple strategies for expanding search queries:

### Synonym Expansion

<Accordion title="Built-in Synonym Dictionary">
  The API maintains an extensive built-in dictionary of product-related synonyms across various categories:
  
  - Clothing: "hoodie" ↔ "hooded sweatshirt", "pants" ↔ "trousers"
  - Footwear: "sneakers" ↔ "athletic shoes" ↔ "trainers"
  - Materials: "cotton" ↔ "100% cotton", "faux leather" ↔ "vegan leather"
  
  These synonyms are automatically applied to all searches to increase result coverage.
</Accordion>

<Accordion title="Contextual Synonyms">
  The API can detect contextual synonyms that may vary based on product category:
  
  - "Top" means different things for clothing (upper garment) vs. furniture (table surface)
  - "Organic" in food vs. "organic" in fabrics
  
  The API intelligently applies these synonyms based on detected context.
</Accordion>

### Word Form Variations

The API automatically handles common word variations:

- **Plurals and singulars**: "shirt" and "shirts" are treated as equivalent
- **Spelling variations**: Recognizes both American and British spellings (e.g., "color" vs. "colour")
- **Compound words**: Understands that "t-shirt", "tshirt", and "t shirt" refer to the same item

### Fuzzy Matching

<Accordion title="Typo Tolerance">
  The search engine supports fuzzy matching to handle typos and misspellings. For example:
  
  - "hoddie" will still match products with "hoodie"
  - "sandles" will match "sandals"
  
  This is especially helpful for mobile users where typing errors are common.
</Accordion>

## Query Expansion in the Response

When you make a search request, the API returns information about how it expanded your query in the response metadata:

```json
{
  "products": [ ... ],
  "meta": {
    "query": {
      "original": "blue hoodie",
      "processed": "blue hoodie",
      "synonyms_used": [
        "hoodie",
        "hooded sweatshirt",
        "hooded sweater"
      ],
      "implicit_filters": {
        "attributes.color": "blue"
      }
    },
    // Other metadata fields...
  }
}
```

In this example, you can see that a search for "blue hoodie" was expanded to also match products labeled as "hooded sweatshirt" or "hooded sweater".

## Use Cases for Query Expansion

Query expansion is particularly valuable in these scenarios:

### 1. Product Discovery

Users may not know the exact terminology used in your product catalog. Query expansion ensures they can discover relevant products regardless of the specific terms they use.

### 2. Technical vs. Common Terms

Many products have technical names that differ from common usage:

- Technical: "Portable Bluetooth Speaker"
- Common: "Wireless Speaker"

The API bridges this gap by understanding both terminologies.

### 3. Regional Language Differences

Different regions may use different terms for the same product:

- US: "sneakers" or "tennis shoes"
- UK: "trainers"
- Australia: "runners"

Query expansion ensures consistent results regardless of regional terminology.

## Improving Your Results with Intelligent Queries

While the API handles query expansion automatically, you can optimize your search implementation by:

1. **Encouraging natural language**: Allow users to search as they would naturally speak, rather than forcing specific keywords.

2. **Keep queries concise**: While the API can handle longer phrases, focusing on key descriptive terms often yields better results.

3. **Use the feedback loop**: Monitor which searches yield the best conversions and optimize accordingly.

## Related Resources

- [Smart Search](/developer-guide/smart-search) - Overview of all smart search capabilities
- [Implicit Filters](/advanced-topics/implicit-filters) - How the API extracts filters from natural language queries
- [Request Parameters](/api-reference/parameters) - Complete reference for all request parameters 